= `gf::Id` type
v0.1
:toc: right
:toclevels: 2
:homepage: https://gamedevframework.github.io/
:stem: latexmath
:source-highlighter: rouge
:source-language: c++
:rouge-style: thankful_eyes
:sectanchors:
:xrefstyle: full
:nofooter:
:docinfo: shared-head
:icons: font

`Id` represents a generic identifier.

xref:core_utilities.adoc[< Back to `core` Utilities]

== Description

[source]
----
#include <gf2/Id.h>
enum class Id : uint64_t;
----

An `Id` represents an identifier that has been computed from a string. Technically, it's a message digest from the link:https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function[Fowler–Noll–Vo 1a] hash function.

There are two ways to get an id from a string. The first one is to call `gf::hash` with the string. You can use a C string or a `std::string` or anything that can be converted to a `std::string_view`.

[source,indent=0]
----
include::snippets/core_id.cc[tag=hash]
----

The second one is to use the user-defined literal  `_id`. First, you have to include a `using namespace` directive in order to be able to use this user-defined literal.

[source,indent=0]
----
include::snippets/core_id.cc[tag=using]
----

Then you can use the user-defined literal on literal strings.

[source,indent=0]
----
include::snippets/core_id.cc[tag=udl]
----

The main advantage is that the id is computed at compile-time.

[source,indent=0]
----
include::snippets/core_id.cc[tag=comptime]
----

So you can even use this property to compute a switch statement on a string.

[source,indent=0]
----
include::snippets/core_id.cc[tag=switch]
----

== Variables

=== `InvalidId`

[source]
----
constexpr Id InvalidId;
----

The invalid id (which is 0)

== Functions

=== `id`

[source]
----
constexpr Id id(uint64_t id);
----

Create an identifier from an integer.

=== `hash`

[source]
----
constexpr Id hash(const char *str, std::size_t sz); <1>
constexpr Id hash(std::string_view str); <2>
----

<1> Get an identifier from a string `str` of size `sz`.
<2> Get an identifier from a string represented by `str`.

== Operators

=== `operator"" _id`

[source]
----
constexpr Id operator"" _id(const char* str, std::size_t sz);
----

User defined operator for creating compile time ids from strings.

This operator is defined in the `gf::literals` namespace.
